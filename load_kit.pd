#N canvas 560 0 1120 1022 12;
#X obj 543 409 unpack, f 34;
#X text 38 33 This subpatch receives an instrument name and returns a list of: (midi_note \, array_name \, note_offset \, num_samples), f 65;
#X obj 543 379 r notes;
#X text 611 378 <-- receive midi notes and velocity;
#X obj 285 911 poly 8 1, f 34;
#X obj 373 118 inlet;
#X msg 735 254 -1;
#X text 920 193 <-- ensure text lists exist;
#X text 952 284 <-- ensure text lists begin empty;
#X obj 735 194 text define note_to_array;
#X obj 758 284 text delete note_to_array;
#X obj 374 199 load_samples;
#X obj 374 229 text fromlist note_to_array;
#X text 124 201 populate note_to_array list -->;
#X text 434 117 <-- left inlet: name of instrument;
#X floatatom 284 946 5 0 0 0 voice\ --> - - 0;
#X floatatom 520 948 5 0 0 1 <--\ vel - - 0;
#X floatatom 402 947 4 0 0 1 <--\ note - - 0;
#X obj 544 837 text get note_to_array;
#X floatatom 543 439 5 0 0 0 midi\ note\ --> - - 0;
#X text 169 867 midi_note \, array_name \, note_offset \, num_samples -->;
#X obj 523 1092 pack f f f f f s, f 23;
#X obj 523 1129 route 1 2 3 4 5 6 7 8, f 23;
#X obj 662 1168 voice;
#X obj 524 1385 voice;
#X obj 543 1354 voice;
#X obj 563 1323 voice;
#X obj 581 1294 voice;
#X obj 604 1267 voice;
#X obj 622 1233 voice;
#X obj 642 1200 voice;
#X obj 670 1424 +~;
#X obj 780 842 t f f;
#X obj 500 477 t f f f;
#X obj 670 1493 outlet~;
#X obj 373 148 t b s b b b, f 14;
#X obj 413 277 switch~;
#X msg 581 229 0;
#X msg 333 230 1;
#X obj 175 256 pack s;
#X msg 518 298 \; screenLine1 Loading... \;;
#X msg 176 297 \; screenLine1 K88: \$1 \;;
#X text 702 1093 <-- voice \, midi_note \, velocity \, note_offset \, num_samples \, array_name, f 69;
#X text 167 911 assign voice -->;
#X obj 670 1460 *~ 0.5;
#X msg 252 108 symbol Rhodes;
#X obj 544 773 pack f f;
#X obj 544 806 text search note_to_array 0 1;
#X obj 544 867 unpack f f s f f;
#X msg 895 750 4;
#X obj 946 692 <= 40;
#X obj 932 573 >= 90;
#X msg 999 751 3;
#X msg 946 750 1;
#X obj 812 511 select 0;
#X floatatom 895 790 5 0 0 1 <--\ strength - - 0;
#X text 882 510 <-- ignore note-off;
#X obj 779 480 t f f;
#X obj 931 602 select 1;
#X msg 984 633 1;
#X obj 946 663 spigot;
#X obj 946 720 select 1;
#X obj 865 539 t f f, f 10;
#X msg 945 634 0;
#X text 945 539 <-- get "strength" (1 \, 3 \, 4) from velocity;
#X text 987 572 <-- velocity >= 90 = forte (4);
#X text 995 691 <-- velocity <= 40 = piano (1);
#X text 728 16 `, f 73;
#X obj 1254 776 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 721 23 Copyright (c) 2025 Jonathan Schoonhoven All rights reserved. Redistribution and use of this file \, in source or binary form \, without explicit permission from the copyright holder is prohibited., f 73;
#X obj 1255 807 select 1;
#X floatatom 1218 923 5 0 0 1 <--\ strength - - 0;
#X msg 1255 834 0;
#X msg 1179 886 1;
#X obj 1218 886 spigot;
#X msg 1308 833 1;
#X obj 1329 806 loadbang;
#X obj 1222 743 latch;
#X text 1120 776 soft pedal on -->;
#X connect 0 0 19 0;
#X connect 0 1 57 0;
#X connect 2 0 0 0;
#X connect 4 0 15 0;
#X connect 4 1 17 0;
#X connect 4 2 16 0;
#X connect 5 0 35 0;
#X connect 6 0 10 0;
#X connect 11 0 12 0;
#X connect 15 0 21 0;
#X connect 16 0 21 2;
#X connect 17 0 21 1;
#X connect 18 0 48 0;
#X connect 19 0 33 0;
#X connect 21 0 22 0;
#X connect 22 0 24 0;
#X connect 22 1 25 0;
#X connect 22 2 26 0;
#X connect 22 3 27 0;
#X connect 22 4 28 0;
#X connect 22 5 29 0;
#X connect 22 6 30 0;
#X connect 22 7 23 0;
#X connect 23 0 31 0;
#X connect 24 0 31 0;
#X connect 25 0 31 0;
#X connect 26 0 31 0;
#X connect 27 0 31 0;
#X connect 28 0 31 0;
#X connect 29 0 31 0;
#X connect 30 0 31 0;
#X connect 31 0 44 0;
#X connect 32 1 4 1;
#X connect 33 1 4 0;
#X connect 33 2 46 0;
#X connect 35 0 38 0;
#X connect 35 0 39 0;
#X connect 35 1 11 0;
#X connect 35 1 39 0;
#X connect 35 2 6 0;
#X connect 35 3 9 0;
#X connect 35 4 37 0;
#X connect 35 4 40 0;
#X connect 37 0 36 0;
#X connect 38 0 36 0;
#X connect 39 0 41 0;
#X connect 44 0 34 0;
#X connect 45 0 35 0;
#X connect 46 0 47 0;
#X connect 47 0 18 0;
#X connect 48 2 21 5;
#X connect 48 3 21 3;
#X connect 48 4 21 4;
#X connect 49 0 55 0;
#X connect 50 0 61 0;
#X connect 51 0 58 0;
#X connect 52 0 55 0;
#X connect 53 0 55 0;
#X connect 54 1 62 0;
#X connect 55 0 74 0;
#X connect 57 0 32 0;
#X connect 57 1 54 0;
#X connect 58 0 49 0;
#X connect 58 0 63 0;
#X connect 58 1 59 0;
#X connect 59 0 60 1;
#X connect 60 0 50 0;
#X connect 61 0 53 0;
#X connect 61 1 52 0;
#X connect 62 0 60 0;
#X connect 62 1 51 0;
#X connect 63 0 60 1;
#X connect 68 0 70 0;
#X connect 70 0 72 0;
#X connect 70 0 73 0;
#X connect 70 1 75 0;
#X connect 71 0 46 1;
#X connect 72 0 74 1;
#X connect 73 0 71 0;
#X connect 74 0 71 0;
#X connect 75 0 74 1;
#X connect 76 0 75 0;
#X connect 77 1 68 0;
